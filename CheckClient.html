<html>

<head>
  <title>CheckClient</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="CheckClient.css">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-storage.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/6.6.2/firebase-auth.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/6.6.2/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-database.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyCCkeCglasI9cz9KSrfgiTCMOzdgHNYhQM",
      authDomain: "webproject-66098.firebaseapp.com",
      databaseURL: "https://webproject-66098.firebaseio.com",
      projectId: "webproject-66098",
      storageBucket: "webproject-66098.appspot.com",
      messagingSenderId: "578047006972",
      appId: "1:578047006972:web:2fd6446310af9e46fc1f79",
      measurementId: "G-VK41Q22SD9"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    var storageRef = firebase.storage().ref();
    var databaseRef = firebase.database().ref();
  </script>

</head>

<body>

  <script>
    $(document).ready(function () {
      firebase.auth().onAuthStateChanged(function (user) {
        var ClientUID = localStorage.getItem('ClientUID')
        var currUID = firebase.auth().currentUser.uid;
        var newClientREF = databaseRef.child('Coach/' + currUID + "/New Client requests")
        var uidREF = databaseRef.child('Coach/' + currUID)
        var clientsREF = databaseRef.child('Client/')

        //RETRIVE Client Name AND NUTRIONS
        clientsREF.child(ClientUID).on("value", function (Client) {
          $("#user-name").html("Client: " + Client.val()["Username"])
          if (Client.val()["Nutrition"] != null) {
            $("#protine").val(Client.val()["Nutrition"]["Protine"])
            $("#carbohydrates").val(Client.val()["Nutrition"]["Carbohydrates"])
            $("#fats").val(Client.val()["Nutrition"]["Fats"])
          }
        })
        //RETRIVE DATA OF WEEKLY WORKOUT
        clientsREF.child(ClientUID + "/Weekly").on("value", function (Client) {
          if (Client.val() != null) {
            $("#SundayMG").val(Client.val()["Sunday"]["SundayMG"])
            $("#MondayMG").val(Client.val()["Monday"]["MondayMG"])
            $("#TuesdayMG").val(Client.val()["Tuesday"]["TuesdayMG"])
            $("#WednesdayMG").val(Client.val()["Wednesday"]["WednesdayMG"])
            $("#ThursdayMG").val(Client.val()["Thursday"]["ThursdayMG"])
            $("#FridayMG").val(Client.val()["Friday"]["FridayMG"])
            $("#SaturdayMG").val(Client.val()["Saturday"]["SaturdayMG"])
            $("#SundayEX").val(Client.val()["Sunday"]["SundayEX"])
            $("#MondayEX").val(Client.val()["Monday"]["MondayEX"])
            $("#TuesdayEX").val(Client.val()["Tuesday"]["TuesdayEX"])
            $("#WednesdayEX").val(Client.val()["Wednesday"]["WednesdayEX"])
            $("#ThursdayEX").val(Client.val()["Thursday"]["ThursdayEX"])
            $("#FridayEX").val(Client.val()["Friday"]["FridayEX"])
            $("#SaturdayEX").val(Client.val()["Saturday"]["SaturdayEX"])
          }

        })

        //ADD NUtritions to Client
        $("#submitNutr").click(() => {
          var protine = $("#protine").val()
          var carbohydrates = $("#carbohydrates").val()
          var fats = $("#fats").val()
          clientsREF.child(ClientUID + "/Nutrition").set({
            Protine: protine,
            Carbohydrates: carbohydrates,
            Fats: fats,
          })
        })
        //ADD WEEKLY WORKOUT FOR THE CLIENT
        $("#workOutBTN").click(() => {

          clientsREF.child(ClientUID + "/Weekly/Sunday").set({
            SundayMG: $("#SundayMG").val(),
            SundayEX: $("#SundayEX").val(),
          })
          clientsREF.child(ClientUID + "/Weekly/Monday").set({
            MondayMG: $("#MondayMG").val(),
            MondayEX: $("#MondayEX").val(),
          })
          clientsREF.child(ClientUID + "/Weekly/Tuesday").set({
            TuesdayMG: $("#TuesdayMG").val(),
            TuesdayEX: $("#TuesdayEX").val(),
          })
          clientsREF.child(ClientUID + "/Weekly/Wednesday").set({
            WednesdayMG: $("#WednesdayMG").val(),
            WednesdayEX: $("#WednesdayEX").val(),
          })
          clientsREF.child(ClientUID + "/Weekly/Thursday").set({
            ThursdayMG: $("#ThursdayMG").val(),
            ThursdayEX: $("#ThursdayEX").val(),
          })
          clientsREF.child(ClientUID + "/Weekly/Friday").set({
            FridayMG: $("#FridayMG").val(),
            FridayEX: $("#FridayEX").val(),
          })
          clientsREF.child(ClientUID + "/Weekly/Saturday").set({
            SaturdayMG: $("#SaturdayMG").val(),
            SaturdayEX: $("#SaturdayEX").val(),
          })
        })

        //IMAGES
        $(document).on("click", "img", function (e) {
          console.log($(this).attr('data-id'));

        });

      })




      $("#nutrition").click(() => {
        $("#nutritionTBL").toggle(1000);
      })
      $("#weekly").click(() => {
        $("#week").toggle(1000);
      })
      $("#CheckUps").click(() => {
        $("#CheckTB").toggle(1000);
      })
      $("#goBack").click(() => {
        window.location.href = "CoachPage.html";
      })

    })



  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>

  <!-- NAV BAR -->
  <header class="row">
    <div class="Toolbar">
      <div class="col-2">
        <label class="use-name" id="user-name"> </label>
      </div>
      <div class="col-3">
        <button class="nutrition" id="nutrition">
          daily nutrition
        </button>
      </div>

      <div class="col-3">
        <button class="weekly" id="weekly">
          weekly Work out
        </button>
      </div>
      <div class="col-3">
        <button class="CheckUps" id="CheckUps">
          Check Ups
        </button>
      </div>

      <div class="col-1">
        <button class="goBack" id="goBack">Go back</button>
      </div>
  </header>
  </div>
  <!-- Week Table -->
  <div class="row mt-100">
    <div class="col-1"></div>
    <table id="week" class="col-10">
      <tr>
        <th>Sunday</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
        <th>Saturday</th>
      </tr>
      <tr>
        <td>
          <p class="exercises">Muscle Group</p><input id="SundayMG" type="text" size="10">
        </td>
        <td>
          <p class="exercises">Muscle Group</p><input id="MondayMG" type="text" size="10">
        </td>
        <td>
          <p class="exercises">Muscle Group</p><input id="TuesdayMG" type="text" size="10">
        </td>
        <td>
          <p class="exercises">Muscle Group</p><input id="WednesdayMG" type="text" size="10">
        </td>
        <td>
          <p class="exercises">Muscle Group</p><input id="ThursdayMG" type="text" size="10">
        </td>
        <td>
          <p class="exercises">Muscle Group</p><input id="FridayMG" type="text" size="10">
        </td>
        <td>
          <p class="exercises">Muscle Group</p><input id="SaturdayMG" type="text" size="10">
        </td>
      </tr>
      <tr>
        <td>
          <p class="exercises">exercises</p> <textarea id="SundayEX" rows="5" cols="10"></textarea>
        </td>
        <td>
          <p class="exercises">exercises</p><textarea id="MondayEX" rows="5" cols="10"></textarea>
        </td>
        <td>
          <p class="exercises">exercises</p><textarea id="TuesdayEX" rows="5" cols="10"></textarea>
        </td>
        <td>
          <p class="exercises">exercises</p><textarea id="WednesdayEX" rows="5" cols="10"></textarea>
        </td>
        <td>
          <p class="exercises">exercises</p><textarea id="ThursdayEX" rows="5" cols="10"></textarea>
        </td>
        <td>
          <p class="exercises">exercises</p><textarea id="FridayEX" rows="5" cols="10"></textarea>
        </td>
        <td>
          <p class="exercises">exercises</p><textarea id="SaturdayEX" rows="5" cols="10"></textarea>
        </td>
      </tr>
      <tr>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th><button id="workOutBTN">Click to update</button></th>
      </tr>
    </table>
    <div class="col-1"></div>
  </div>

  <!-- nutrition table -->

  <div class="row mt-100">
    <div class="col-2"></div>
    <table id="nutritionTBL" class="col-8">
      <tr>
        <th>Protine(g)</th>
        <th>Carbohydrates(g)</th>
        <th>Fats(g)</th>
        <th>Click to update Client Nutrition</th>
      </tr>
      <tr>
        <td> <input id="protine" type="number"> </td>
        <td><input id="carbohydrates" type="number"> </td>
        <td><input id="fats" type="number"> </td>
        <th><button id="submitNutr">Submit</button></th>
      </tr>
    </table>
    <div class="col-2"></div>
  </div>

  <!-- Client images -->
  <div class="ex1 mt-100">
    <table id="CheckTB">
      <tr>
        <th>Check UPS Pictures</th>
      </tr>
      <tr>
        <td>
          <img class="imggg" data-id="prof1" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof2" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof3" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof4" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof5" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof6" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof7" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof8" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof9" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof10" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof11" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof11" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof11" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">

          <img class="imggg" data-id="prof11" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof11" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof11" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
          <img class="imggg" data-id="prof11" src="d:\Users\SHADI\Pictures\4K\4457.jpg" alt="">
        </td>
      </tr>
    </table>
  </div>


</body>

</html>